---
title: 错误的使用了时间戳
tags:
  - timestamp
categories: QA
permalink: wrong-timestamp-used
date: 2018-01-27 11:08:12
---


## 症状如下：
- 用户上传的证件日期确定填写的`2015-02-24`，我们在后台查询了日志和数据库确定是这个值。
- 在用户员管理审核时显示`2015-02-23`
- 我们本地无法重现这个问题，显示的是`2015-02-24`

## 过程
- 管理员身在泰国曼谷（东七区）与我们不在一个时间区（东八区），于是我们将本地的时间调整为东七区，问题重现了。
- 发现日期是后端传递的时间戳，到前端调试下发现，时间戳转换成日期是`2015-02-23 23:00 00`,格式化只取日期就是显示的`2015-02-23`
 
## 解决
- 传递时间字符串

## 其他关联
- 需要国际化的系统设计
  - `header`传递`lang`语言标示
  - 后端返回提示需要配置多语言，采用统一错误编码匹配。